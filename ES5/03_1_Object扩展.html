<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Title</title>
    </head>
    <body>
        <script>
            /* Object.create(prototype, [descriptors])
               作用：以指定对象为原型创建新的对象
                    为新的对象指定新的属性，并对属性进行描述
                - value：指定值
                - writable：标识当前属性值是否可被修改，默认为false
                - configurable：标识当前属性是否可以被删除，默认为false
                - enumerable：标识当前属性是否能用 for in 枚举，默认为false
            */
            var obj = { username: 'damu', age: 30}
            var obj1 = {}

            obj1 = Object.create(obj, {
              sex: {
                value: '男'
              }
            })
            console.log(obj1)
            console.log(obj1.sex)
            obj1.sex = '女'
            console.log(obj1)
            for (item in obj1) {
              console.log(item)
            }

            /* Object.defineProperties(object, descriptors)
               作用：为指定对象定义扩展多个属性
               get：用来获取当前属性值的回调函数
               set：修改当前属性值触发的回调函数，并且将修改的值作为参数
               存储器属性：setter，getter 一个用来存值，一个用来取值
             */
            var obj2 = { firstName: 'aaa', lastName: 'bbb'}
            Object.defineProperties(obj2, {
              fullName: {
                get () {
                  return this.firstName + ' ' + this.lastName
                },
                // 监听到扩展的属性发生改变时，自动调用，并将修改的值作为参数
                set (data) {
                  console.log('set()', data)
                }
              }
            })
            console.log(obj2.fullName)
            console.log(obj2)
            obj2.firstName = 'a11'
            obj2.fullName = 'ttttt'
        </script>
    </body>
</html>
